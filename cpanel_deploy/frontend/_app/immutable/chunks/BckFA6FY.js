import{s as it,E as ct,d as f,a as ut,r as dt,f as j,b as tt,a2 as ft,c as o,i as A,l as Z,_ as pt,e as t,h as mt,D as ht,Y as _t,j as i,o as m,k as C,m as E,p as c,q as h,u as vt,n as st,w as Oe,x as Ne,y as bt,Z as lt}from"./CXRviRvy.js";import{S as gt,i as yt,f as Ct,d as xt,t as It,a as Lt,m as wt,e as Et,b as kt}from"./EwStbUFK.js";import{e as rt}from"./D6YF6ztN.js";import{g as Tt}from"./4rErrFS-.js";import{c as Dt}from"./n-3IVrTT.js";import{L as Pt}from"./ZqJSaiCw.js";import{e as Rt}from"./f4Im-s9B.js";function ot(s,r,l){const e=s.slice();return e[17]=r[l],e}function at(s){let r,l=s[17].label+"",e;return{c(){r=c("option"),e=Ne(l),this.h()},l(p){r=i(p,"OPTION",{});var u=C(r);e=Oe(u,l),u.forEach(f),this.h()},h(){r.__value=s[17].value,j(r,r.__value)},m(p,u){A(p,r,u),o(r,e)},p:st,d(p){p&&f(r)}}}function At(s){let r,l,e,p="Choose Image",u,g,D="Max 5MB",v,n;return{c(){r=c("input"),l=h(),e=c("label"),e.textContent=p,u=h(),g=c("p"),g.textContent=D,this.h()},l(d){r=i(d,"INPUT",{type:!0,id:!0,accept:!0,class:!0}),l=m(d),e=i(d,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),E(e)!=="svelte-1hee1i1"&&(e.textContent=p),u=m(d),g=i(d,"P",{class:!0,"data-svelte-h":!0}),E(g)!=="svelte-x64epl"&&(g.textContent=D),this.h()},h(){t(r,"type","file"),t(r,"id","image-upload"),t(r,"accept","image/*"),t(r,"class","hidden svelte-16967fo"),t(e,"for","image-upload"),t(e,"class","btn btn-secondary cursor-pointer svelte-16967fo"),t(g,"class","text-xs text-gray-500 mt-2")},m(d,q){A(d,r,q),A(d,l,q),A(d,e,q),A(d,u,q),A(d,g,q),v||(n=Z(r,"change",s[4]),v=!0)},p:st,d(d){d&&(f(r),f(l),f(e),f(u),f(g)),v=!1,n()}}}function Bt(s){let r,l,e,p,u,g="Remove",D,v;return{c(){r=c("div"),l=c("img"),p=h(),u=c("button"),u.textContent=g,this.h()},l(n){r=i(n,"DIV",{class:!0});var d=C(r);l=i(d,"IMG",{src:!0,alt:!0,class:!0}),p=m(d),u=i(d,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),E(u)!=="svelte-1qo4i66"&&(u.textContent=g),d.forEach(f),this.h()},h(){lt(l.src,e=s[2])||t(l,"src",e),t(l,"alt","Preview"),t(l,"class","w-full max-w-xs h-32 object-cover rounded mx-auto mb-2 svelte-16967fo"),t(u,"type","button"),t(u,"class","btn btn-secondary text-sm"),t(r,"class","relative")},m(n,d){A(n,r,d),o(r,l),o(r,p),o(r,u),D||(v=Z(u,"click",s[5]),D=!0)},p(n,d){d&4&&!lt(l.src,e=n[2])&&t(l,"src",e)},d(n){n&&f(r),D=!1,v()}}}function Vt(s){let r;return{c(){r=Ne("Report Lost Item")},l(l){r=Oe(l,"Report Lost Item")},m(l,e){A(l,r,e)},d(l){l&&f(r)}}}function qt(s){let r,l;return{c(){r=c("div"),l=Ne(`
            Reporting...`),this.h()},l(e){r=i(e,"DIV",{class:!0}),C(r).forEach(f),l=Oe(e,`
            Reporting...`),this.h()},h(){t(r,"class","w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin svelte-16967fo")},m(e,p){A(e,r,p),A(e,l,p)},d(e){e&&(f(r),f(l))}}}function Mt(s){let r,l,e,p,u,g='<h1 class="text-gradient mb-4">Report Lost Item</h1> <p>Our AI will start looking for matches immediately. Free to report.</p>',D,v,n,d,q="Your Information",ae,M,U,O,ce="Full Name *",se,k,x,L,w,ue="Phone Number *",ye,B,Ce,Q,Se="Item Details",xe,J,Y,Fe="Item Title *",Ie,P,Le,z,K,He="Category *",we,T,Ee,W,G,je="Description *",ke,R,Te,X,$,Je="Upload Image (Optional)",De,ee,Pe,te,Ye="Location",Re,N,Ae,Be,S,Ve,le,ze="Free to report â€¢ AI matching starts immediately",qe,re,Ke='<h3 class="font-semibold mb-3">Tips for Better Results</h3> <ul class="space-y-1 text-sm"><li>âœ“ Be specific: Include brand, model, color</li> <li>âœ“ Mention exact location and landmarks</li> <li>âœ“ Check back regularly for new matches</li> <li>âœ“ Keep your phone on for notifications</li></ul>',ne,Me,We,oe=rt(s[3]),I=[];for(let a=0;a<oe.length;a+=1)I[a]=at(ot(s,oe,a));function Ge(a,y){return a[2]?Bt:At}let de=Ge(s),V=de(s);function nt(a){s[13](a)}let Xe={};s[0].location!==void 0&&(Xe.selectedLocation=s[0].location),N=new Pt({props:Xe}),ct.push(()=>Ct(N,"selectedLocation",nt)),N.$on("change",s[6]);function Ze(a,y){return a[1]?qt:Vt}let fe=Ze(s),H=fe(s);return{c(){r=c("meta"),l=h(),e=c("div"),p=c("div"),u=c("div"),u.innerHTML=g,D=h(),v=c("div"),n=c("form"),d=c("h3"),d.textContent=q,ae=h(),M=c("div"),U=c("div"),O=c("label"),O.textContent=ce,se=h(),k=c("input"),x=h(),L=c("div"),w=c("label"),w.textContent=ue,ye=h(),B=c("input"),Ce=h(),Q=c("h3"),Q.textContent=Se,xe=h(),J=c("div"),Y=c("label"),Y.textContent=Fe,Ie=h(),P=c("input"),Le=h(),z=c("div"),K=c("label"),K.textContent=He,we=h(),T=c("select");for(let a=0;a<I.length;a+=1)I[a].c();Ee=h(),W=c("div"),G=c("label"),G.textContent=je,ke=h(),R=c("textarea"),Te=h(),X=c("div"),$=c("label"),$.textContent=Je,De=h(),ee=c("div"),V.c(),Pe=h(),te=c("h3"),te.textContent=Ye,Re=h(),kt(N.$$.fragment),Be=h(),S=c("button"),H.c(),Ve=h(),le=c("p"),le.textContent=ze,qe=h(),re=c("div"),re.innerHTML=Ke,this.h()},l(a){const y=_t("svelte-1cf1m7t",document.head);r=i(y,"META",{name:!0,content:!0}),y.forEach(f),l=m(a),e=i(a,"DIV",{class:!0});var F=C(e);p=i(F,"DIV",{class:!0,style:!0});var b=C(p);u=i(b,"DIV",{class:!0,"data-svelte-h":!0}),E(u)!=="svelte-1oqg3hu"&&(u.innerHTML=g),D=m(b),v=i(b,"DIV",{class:!0});var ie=C(v);n=i(ie,"FORM",{class:!0});var _=C(n);d=i(_,"H3",{class:!0,"data-svelte-h":!0}),E(d)!=="svelte-1jhsslv"&&(d.textContent=q),ae=m(_),M=i(_,"DIV",{class:!0});var pe=C(M);U=i(pe,"DIV",{class:!0});var me=C(U);O=i(me,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),E(O)!=="svelte-ws056t"&&(O.textContent=ce),se=m(me),k=i(me,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),me.forEach(f),x=m(pe),L=i(pe,"DIV",{class:!0});var he=C(L);w=i(he,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),E(w)!=="svelte-1r87q1l"&&(w.textContent=ue),ye=m(he),B=i(he,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),he.forEach(f),pe.forEach(f),Ce=m(_),Q=i(_,"H3",{class:!0,"data-svelte-h":!0}),E(Q)!=="svelte-1ww5dpf"&&(Q.textContent=Se),xe=m(_),J=i(_,"DIV",{class:!0});var _e=C(J);Y=i(_e,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),E(Y)!=="svelte-2yymbb"&&(Y.textContent=Fe),Ie=m(_e),P=i(_e,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),_e.forEach(f),Le=m(_),z=i(_,"DIV",{class:!0});var ve=C(z);K=i(ve,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),E(K)!=="svelte-1rbfb8s"&&(K.textContent=He),we=m(ve),T=i(ve,"SELECT",{id:!0,class:!0});var Qe=C(T);for(let Ue=0;Ue<I.length;Ue+=1)I[Ue].l(Qe);Qe.forEach(f),ve.forEach(f),Ee=m(_),W=i(_,"DIV",{class:!0});var be=C(W);G=i(be,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),E(G)!=="svelte-1rphy40"&&(G.textContent=je),ke=m(be),R=i(be,"TEXTAREA",{id:!0,placeholder:!0,class:!0,rows:!0}),C(R).forEach(f),be.forEach(f),Te=m(_),X=i(_,"DIV",{class:!0});var ge=C(X);$=i(ge,"LABEL",{class:!0,"data-svelte-h":!0}),E($)!=="svelte-xuo439"&&($.textContent=Je),De=m(ge),ee=i(ge,"DIV",{class:!0});var $e=C(ee);V.l($e),$e.forEach(f),ge.forEach(f),Pe=m(_),te=i(_,"H3",{class:!0,"data-svelte-h":!0}),E(te)!=="svelte-1x0579d"&&(te.textContent=Ye),Re=m(_),Et(N.$$.fragment,_),Be=m(_),S=i(_,"BUTTON",{type:!0,class:!0});var et=C(S);H.l(et),et.forEach(f),Ve=m(_),le=i(_,"P",{class:!0,"data-svelte-h":!0}),E(le)!=="svelte-1calijo"&&(le.textContent=ze),_.forEach(f),ie.forEach(f),qe=m(b),re=i(b,"DIV",{class:!0,"data-svelte-h":!0}),E(re)!=="svelte-1uo3xem"&&(re.innerHTML=Ke),b.forEach(f),F.forEach(f),this.h()},h(){document.title="Report Lost Item - Ishakiro",t(r,"name","description"),t(r,"content","Report your lost item in Rwanda. Our AI will help match it with found items."),t(u,"class","text-center mb-6"),t(d,"class","font-bold mb-4"),t(O,"class","form-label"),t(O,"for","name"),t(k,"id","name"),t(k,"type","text"),t(k,"placeholder","Your full name"),t(k,"class","form-input"),k.required=!0,t(U,"class","form-group"),t(w,"class","form-label"),t(w,"for","phone"),t(B,"id","phone"),t(B,"type","tel"),t(B,"placeholder","+250 788 123 456"),t(B,"class","form-input"),B.required=!0,t(L,"class","form-group"),t(M,"class","grid grid-2 gap-4"),t(Q,"class","font-bold mb-4"),t(Y,"class","form-label"),t(Y,"for","title"),t(P,"id","title"),t(P,"type","text"),t(P,"placeholder","e.g., Black iPhone 13 Pro"),t(P,"class","form-input"),P.required=!0,t(J,"class","form-group"),t(K,"class","form-label"),t(K,"for","category"),t(T,"id","category"),t(T,"class","form-input"),T.required=!0,s[0].category===void 0&&mt(()=>s[11].call(T)),t(z,"class","form-group"),t(G,"class","form-label"),t(G,"for","description"),t(R,"id","description"),t(R,"placeholder","Describe your item: color, brand, model, features, where you lost it"),t(R,"class","form-input svelte-16967fo"),t(R,"rows","3"),R.required=!0,t(W,"class","form-group"),t($,"class","form-label"),t(ee,"class","border-2 border-dashed border-gray-300 rounded p-4 text-center"),t(X,"class","form-group"),t(te,"class","font-bold mb-4"),t(S,"type","submit"),S.disabled=s[1],t(S,"class","btn btn-primary w-full svelte-16967fo"),t(le,"class","text-center text-sm text-gray-500 mt-4"),t(n,"class","space-y-4"),t(v,"class","card"),t(re,"class","card mt-6 bg-blue-50"),t(p,"class","container"),ht(p,"max-width","600px"),t(e,"class","section")},m(a,y){o(document.head,r),A(a,l,y),A(a,e,y),o(e,p),o(p,u),o(p,D),o(p,v),o(v,n),o(n,d),o(n,ae),o(n,M),o(M,U),o(U,O),o(U,se),o(U,k),j(k,s[0].reporter_name),o(M,x),o(M,L),o(L,w),o(L,ye),o(L,B),j(B,s[0].reporter_phone),o(n,Ce),o(n,Q),o(n,xe),o(n,J),o(J,Y),o(J,Ie),o(J,P),j(P,s[0].title),o(n,Le),o(n,z),o(z,K),o(z,we),o(z,T);for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(T,null);tt(T,s[0].category,!0),o(n,Ee),o(n,W),o(W,G),o(W,ke),o(W,R),j(R,s[0].description),o(n,Te),o(n,X),o(X,$),o(X,De),o(X,ee),V.m(ee,null),o(n,Pe),o(n,te),o(n,Re),wt(N,n,null),o(n,Be),o(n,S),H.m(S,null),o(n,Ve),o(n,le),o(p,qe),o(p,re),ne=!0,Me||(We=[Z(k,"input",s[8]),Z(B,"input",s[9]),Z(P,"input",s[10]),Z(T,"change",s[11]),Z(R,"input",s[12]),Z(n,"submit",pt(s[7]))],Me=!0)},p(a,[y]){if(y&9&&k.value!==a[0].reporter_name&&j(k,a[0].reporter_name),y&9&&j(B,a[0].reporter_phone),y&9&&P.value!==a[0].title&&j(P,a[0].title),y&8){oe=rt(a[3]);let b;for(b=0;b<oe.length;b+=1){const ie=ot(a,oe,b);I[b]?I[b].p(ie,y):(I[b]=at(ie),I[b].c(),I[b].m(T,null))}for(;b<I.length;b+=1)I[b].d(1);I.length=oe.length}y&9&&tt(T,a[0].category),y&9&&j(R,a[0].description),de===(de=Ge(a))&&V?V.p(a,y):(V.d(1),V=de(a),V&&(V.c(),V.m(ee,null)));const F={};!Ae&&y&1&&(Ae=!0,F.selectedLocation=a[0].location,ft(()=>Ae=!1)),N.$set(F),fe!==(fe=Ze(a))&&(H.d(1),H=fe(a),H&&(H.c(),H.m(S,null))),(!ne||y&2)&&(S.disabled=a[1])},i(a){ne||(Lt(N.$$.fragment,a),ne=!0)},o(a){It(N.$$.fragment,a),ne=!1},d(a){a&&(f(l),f(e)),f(r),ut(I,a),V.d(),xt(N),H.d(),Me=!1,dt(We)}}}async function Ut(s,r={}){try{const l=await fetch(s,{...r,headers:{"Content-Type":"application/json",...r.headers}});if(!l.ok){const e=await l.text();throw console.error("Response error:",e),new Error(`HTTP ${l.status}: ${l.statusText} - ${e}`)}return await l.json()}catch(l){throw console.error("Fetch error:",l),l}}async function Ot(s){return new Promise(r=>{const l=new FileReader;l.onload=e=>r(e.target.result),l.readAsDataURL(s)})}function Nt(s,r,l){let e={reporter_name:"",reporter_phone:"",title:"",description:"",category:"phone",location:{province:"",district:"",sector:"",cell:"",village:"",isibo:""}},p=!1,u=null,g=null;const D=Rt.PUBLIC_API_URL||"http://localhost:8001",v=[{value:"phone",label:"Phone",icon:"ðŸ“±"},{value:"wallet",label:"Wallet",icon:"ðŸ’¼"},{value:"keys",label:"Keys",icon:"ðŸ”‘"},{value:"bag",label:"Bag",icon:"ðŸŽ’"},{value:"documents",label:"Documents",icon:"ðŸ“„"},{value:"electronics",label:"Electronics",icon:"ðŸ’»"},{value:"jewelry",label:"Jewelry",icon:"ðŸ’"},{value:"other",label:"Other",icon:"ðŸ“¦"}];vt(()=>{Dt.subscribe(x=>{})});function n(x){const L=x.target.files[0];if(L){if(L.size>5*1024*1024){alert("Max file size: 5MB");return}u=L;const w=new FileReader;w.onload=ue=>{l(2,g=ue.target.result)},w.readAsDataURL(L)}}function d(){u=null,l(2,g=null)}function q(x){l(0,e.location=x.detail,e)}async function ae(){if(!e.reporter_name||!e.reporter_phone||!e.title||!e.description||!e.location.province||!e.location.district||!e.location.sector||!e.location.cell||!e.location.village){alert("Please fill in all required fields including complete location");return}l(1,p=!0);try{let x=null;u&&(x=await Ot(u));const L={...e,status:"lost",image_url:x};console.log("Sending payload:",JSON.stringify(L,null,2));const w=await Ut(`${D}/api/anonymous/report`,{method:"POST",body:JSON.stringify(L)});if(w.success)alert(`âœ… Lost item reported successfully!

Tracking Code: ${w.tracking_code}

Save this code to track your item.`),Tt(`/item/${w.item_id}`);else throw new Error(w.message||"Failed to report item")}catch(x){console.error("Submit error:",x),alert("Error: "+x.message)}finally{l(1,p=!1)}}function M(){e.reporter_name=this.value,l(0,e),l(3,v)}function U(){e.reporter_phone=this.value,l(0,e),l(3,v)}function O(){e.title=this.value,l(0,e),l(3,v)}function ce(){e.category=bt(this),l(0,e),l(3,v)}function se(){e.description=this.value,l(0,e),l(3,v)}function k(x){s.$$.not_equal(e.location,x)&&(e.location=x,l(0,e))}return[e,p,g,v,n,d,q,ae,M,U,O,ce,se,k]}class Kt extends gt{constructor(r){super(),yt(this,r,Nt,Mt,it,{})}}export{Kt as component};
